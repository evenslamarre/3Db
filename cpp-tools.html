<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Calcul d'Aire, Volume et Mesures</title>
  <!-- Intégration de MathJax pour le rendu des formules -->
  <script>
    window.MathJax = {
      tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
      svg: { fontCache: 'global' }
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
  <style>
    /* Styles de base pour occuper toute la page et être responsive */
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f9f9f9;
    }
    header {
      background: #2d89ef;
      color: white;
      padding: 1rem;
      text-align: center;
    }
    nav {
      background: #1b5eaa;
      padding: 0.5rem;
      display: flex;
      justify-content: center;
      gap: 1rem;
      flex-wrap: wrap;
    }
    nav button {
      background: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1rem;
      transition: background 0.3s;
    }
    nav button:hover {
      background: #e0e0e0;
    }
    main {
      padding: 1rem 2rem;
      overflow-y: auto;
      height: calc(100% - 150px);
    }
    .section {
      display: none;
      animation: fadeIn 0.3s ease-in-out;
    }
    .section.active {
      display: block;
    }
    .form-group {
      margin-bottom: 1rem;
    }
    label {
      display: block;
      font-weight: bold;
      margin-bottom: 0.3rem;
    }
    input, select {
      padding: 0.5rem;
      width: 100%;
      max-width: 400px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    button.action {
      background: #2d89ef;
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 1rem;
    }
    button.action:hover {
      background: #1b5eaa;
    }
    pre.result {
      background: #eef;
      padding: 1rem;
      border-radius: 5px;
      white-space: pre-wrap;
      margin-top: 1rem;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
  <header>
    <h1>Calcul d'Aire, Volume et Mesures</h1>
  </header>
  <nav>
    <button data-target="menuPrincipal">Menu Principal</button>
    <button data-target="formes2D">Formes 2D</button>
    <button data-target="solides3D">Solides 3D</button>
    <button data-target="mesuresAire">Mesures par Aire</button>
    <button data-target="mesuresVolume">Mesures par Volume</button>
  </nav>
  <main>
    <!-- Menu Principal -->
    <section id="menuPrincipal" class="section active">
      <h2>Menu Principal</h2>
      <p>Sélectionnez une fonctionnalité ci-dessus.</p>
    </section>

    <!-- Formes 2D -->
    <section id="formes2D" class="section">
      <h2>Formes 2D</h2>
      <p>Fonctionnalité de calcul d'aire et périmètre pour les formes 2D.</p>
      <p>Pour cet exemple, nous présentons le calcul pour un carré :</p>
      <div class="form-group">
        <label for="carreCote">Longueur du coté :</label>
        <input type="number" id="carreCote" placeholder="Entrez la valeur">
      </div>
      <button class="action" onclick="calculerCarre()">Calculer</button>
      <pre id="resultCarre" class="result"></pre>
    </section>

    <!-- Solides 3D -->
    <section id="solides3D" class="section">
      <h2>Solides 3D</h2>
      <p>Choisissez un solide 3D et saisissez ses dimensions.</p>
      <div class="form-group">
        <label for="solideType">Type de solide :</label>
        <select id="solideType">
          <option value="prisme">Prisme (base au choix)</option>
          <option value="cube">Cube</option>
          <option value="cone">Cône / Pyramide</option>
          <option value="sphere">Sphère</option>
          <option value="cylindre">Cylindre</option>
        </select>
      </div>
      <div id="solideForm"></div>
      <pre id="resultSolide" class="result"></pre>
    </section>

    <!-- Mesures à partir d'une aire -->
    <section id="mesuresAire" class="section">
      <h2>Mesures à partir d'une Aire</h2>
      <div class="form-group">
        <label for="inputAire">Valeur d'aire (u²) :</label>
        <input type="number" id="inputAire" placeholder="Entrez une aire">
      </div>
      <button class="action" onclick="calculerMesuresAire()">Calculer mesures</button>
      <pre id="resultAire" class="result"></pre>
    </section>

    <!-- Mesures à partir d'un volume -->
    <section id="mesuresVolume" class="section">
      <h2>Mesures à partir d'un Volume</h2>
      <div class="form-group">
        <label for="inputVolume">Valeur de volume (u³) :</label>
        <input type="number" id="inputVolume" placeholder="Entrez un volume">
      </div>
      <button class="action" onclick="calculerMesuresVolume()">Calculer mesures</button>
      <pre id="resultVolume" class="result"></pre>
    </section>
  </main>

  <script>
    // Navigation entre sections
    document.querySelectorAll("nav button").forEach(btn => {
      btn.addEventListener("click", () => {
        const target = btn.getAttribute("data-target");
        document.querySelectorAll("main .section").forEach(sec => {
          sec.classList.remove("active");
        });
        document.getElementById(target).classList.add("active");
      });
    });

    // --- Exemple de calcul pour un carré (Formes 2D) ---
    function calculerCarre() {
      const cote = parseFloat(document.getElementById("carreCote").value);
      if (isNaN(cote) || cote <= 0) {
        document.getElementById("resultCarre").textContent = "Veuillez entrer une valeur positive pour le coté.";
        return;
      }
      const aire = cote * cote;
      const perimetre = 4 * cote;
      const result = 
`Formules du carré :
\\( A = c^2 \\)
\\( P = 4 \\times c \\)

Données : \\( c = ${cote} \\)

Résultats :
\\( A = ${aire} \\quad u^2 \\)
\\( P = ${perimetre} \\quad u \\)
`;
      document.getElementById("resultCarre").textContent = result;
      MathJax.typesetPromise();
    }

    // --- Exemple de gestion des solides 3D ---
    const solideFormContainer = document.getElementById("solideForm");
    document.getElementById("solideType").addEventListener("change", renderSolideForm);
    renderSolideForm();

    function renderSolideForm() {
      const type = document.getElementById("solideType").value;
      let html = "";
      switch (type) {
        case "prisme":
          html = `
          <div class="form-group">
            <label for="prismeBase">Aire de la base (u²) :</label>
            <input type="number" id="prismeBase" placeholder="Aire de la base">
          </div>
          <div class="form-group">
            <label for="prismeH">Hauteur (u) :</label>
            <input type="number" id="prismeH" placeholder="Hauteur">
          </div>
          `;
          break;
        case "cube":
          html = `
          <div class="form-group">
            <label for="cubeCote">Longueur de l'arête (u) :</label>
            <input type="number" id="cubeCote" placeholder="Arête">
          </div>
          `;
          break;
        case "cone":
          html = `
          <div class="form-group">
            <label for="coneBase">Pour un cône, entrez le rayon de la base (u) :</label>
            <input type="number" id="coneRayon" placeholder="Rayon">
          </div>
          <div class="form-group">
            <label for="coneH">Hauteur (u) :</label>
            <input type="number" id="coneH" placeholder="Hauteur">
          </div>
          `;
          break;
        case "sphere":
          html = `
          <div class="form-group">
            <label for="sphereRayon">Rayon (u) :</label>
            <input type="number" id="sphereRayon" placeholder="Rayon">
          </div>
          `;
          break;
        case "cylindre":
          html = `
          <div class="form-group">
            <label for="cylindreRayon">Rayon de la base (u) :</label>
            <input type="number" id="cylindreRayon" placeholder="Rayon">
          </div>
          <div class="form-group">
            <label for="cylindreH">Hauteur (u) :</label>
            <input type="number" id="cylindreH" placeholder="Hauteur">
          </div>
          `;
          break;
        default:
          html = "";
      }
      solideFormContainer.innerHTML = html;
    }

    function calculerSolide() {
      const type = document.getElementById("solideType").value;
      let result = "";
      if (type === "prisme") {
        const baseAire = parseFloat(document.getElementById("prismeBase").value);
        const h = parseFloat(document.getElementById("prismeH").value);
        if (isNaN(baseAire) || baseAire <= 0 || isNaN(h) || h <= 0) {
          result = "Veuillez entrer des valeurs valides pour la base et la hauteur.";
        } else {
          const aireLateral = 2 * Math.sqrt(baseAire) * h;
          const aireTotale = aireLateral + 2 * baseAire;
          const volume = baseAire * h;
          result =
`Prisme :
\\( A_{lat} = P_{base} \\times h \\) (avec \\( P_{base} = 2\\sqrt{A_{base}} \\) ici par simplification)
\\( A_{tot} = A_{lat} + 2\\,A_{base} \\)
\\( V = A_{base} \\times h \\)

Données :
\\( A_{base} = ${baseAire} \\quad u^2 \\)
\\( h = ${h} \\quad u \\)

Résultats :
\\( A_{lat} \\approx ${aireLateral.toFixed(2)} \\quad u^2 \\)
\\( A_{tot} \\approx ${aireTotale.toFixed(2)} \\quad u^2 \\)
\\( V \\approx ${volume.toFixed(2)} \\quad u^3 \\)
`;
        }
      } else if (type === "cube") {
        const cote = parseFloat(document.getElementById("cubeCote").value);
        if (isNaN(cote) || cote <= 0) {
          result = "Veuillez entrer une valeur valide pour l'arête.";
        } else {
          const aireTot = 6 * cote * cote;
          const volume = Math.pow(cote, 3);
          result =
`Cube :
\\( A_{tot} = 6\\,c^2 \\)
\\( V = c^3 \\)

Donnée :
\\( c = ${cote} \\quad u \\)

Résultats :
\\( A_{tot} = ${aireTot} \\quad u^2 \\)
\\( V = ${volume} \\quad u^3 \\)
`;
        }
      } else if (type === "cone") {
        const r = parseFloat(document.getElementById("coneRayon").value);
        const h = parseFloat(document.getElementById("coneH").value);
        if (isNaN(r) || r <= 0 || isNaN(h) || h <= 0) {
          result = "Veuillez entrer des valeurs valides pour le rayon et la hauteur.";
        } else {
          const g = Math.sqrt(r * r + h * h);
          const aireBase = Math.PI * r * r;
          const aireLateral = Math.PI * r * g;
          const aireTot = aireLateral + aireBase;
          const volume = (1/3) * aireBase * h;
          result =
`Cône :
\\( g = \\sqrt{r^2+h^2} \\)
\\( A_{base} = \\pi\\,r^2 \\)
\\( A_{lat} = \\pi\\,r\\,g \\)
\\( A_{tot} = A_{lat} + A_{base} \\)
\\( V = \\frac{1}{3}\\,A_{base}\\,h \\)

Données :
\\( r = ${r} \\quad u \\)
\\( h = ${h} \\quad u \\)

Calculs :
\\( g \\approx ${g.toFixed(2)} \\quad u \\)
\\( A_{base} \\approx ${(aireBase).toFixed(2)} \\quad u^2 \\)
\\( A_{lat} \\approx ${(aireLateral).toFixed(2)} \\quad u^2 \\)
\\( A_{tot} \\approx ${(aireTot).toFixed(2)} \\quad u^2 \\)
\\( V \\approx ${volume.toFixed(2)} \\quad u^3 \\)
`;
        }
      } else if (type === "sphere") {
        const r = parseFloat(document.getElementById("sphereRayon").value);
        if (isNaN(r) || r <= 0) {
          result = "Veuillez entrer un rayon valide.";
        } else {
          const aire = 4 * Math.PI * r * r;
          const volume = (4/3) * Math.PI * Math.pow(r, 3);
          result =
`Sphère :
\\( A = 4\\,\\pi\\,r^2 \\)
\\( V = \\frac{4}{3}\\,\\pi\\,r^3 \\)

Donnée :
\\( r = ${r} \\quad u \\)

Résultats :
\\( A \\approx ${aire.toFixed(2)} \\quad u^2 \\)
\\( V \\approx ${volume.toFixed(2)} \\quad u^3 \\)
`;
        }
      } else if (type === "cylindre") {
        const r = parseFloat(document.getElementById("cylindreRayon").value);
        const h = parseFloat(document.getElementById("cylindreH").value);
        if (isNaN(r) || r <= 0 || isNaN(h) || h <= 0) {
          result = "Veuillez entrer des valeurs valides pour le rayon et la hauteur.";
        } else {
          const aireBase = Math.PI * r * r;
          const aireLateral = 2 * Math.PI * r * h;
          const aireTot = aireLateral + 2 * aireBase;
          const volume = Math.PI * r * r * h;
          result =
`Cylindre :
\\( A_{base} = \\pi\\,r^2 \\)
\\( A_{lat} = 2\\,\\pi\\,r\\,h \\)
\\( A_{tot} = A_{lat} + 2\\,A_{base} \\)
\\( V = \\pi\\,r^2\\,h \\)

Données :
\\( r = ${r} \\quad u \\)
\\( h = ${h} \\quad u \\)

Résultats :
\\( A_{base} \\approx ${aireBase.toFixed(2)} \\quad u^2 \\)
\\( A_{lat} \\approx ${aireLateral.toFixed(2)} \\quad u^2 \\)
\\( A_{tot} \\approx ${aireTot.toFixed(2)} \\quad u^2 \\)
\\( V \\approx ${volume.toFixed(2)} \\quad u^3 \\)
`;
        }
      }
      document.getElementById("resultSolide").textContent = result;
      MathJax.typesetPromise();
    }
    // Ajout d'un bouton de calcul pour les solides (s'il n'existe pas déjà)
    solideFormContainer.insertAdjacentHTML('beforeend', '<button class="action" onclick="calculerSolide()">Calculer</button>');

    // --- Mesures à partir d'une aire ---
    function calculerMesuresAire() {
      const aire = parseFloat(document.getElementById("inputAire").value);
      if (isNaN(aire) || aire <= 0) {
        document.getElementById("resultAire").textContent = "Veuillez entrer une aire positive.";
        return;
      }
      let output = `Pour une aire \\( A = ${aire} \\quad u^2 \\), voici quelques exemples :\n\n`;
      // Exemple pour un cône (calcul simplifié)
      for (let r = 1.0; r <= Math.sqrt(aire); r += 0.1) {
        let g = (aire - Math.PI * r * r) / (Math.PI * r);
        if (g > 0 && validThousandths(g)) {
          output += `Cône : \\( r = ${r.toFixed(1)},\\ g \\approx ${g.toFixed(3)} \\)\n`;
        }
      }
      // Exemple pour une sphère
      let rSphere = Math.sqrt(aire / (4 * Math.PI));
      output += `\nSphère : \\( r = \\sqrt{\\frac{A}{4\\pi}} \\approx ${rSphere.toFixed(3)} \\)\n`;
      document.getElementById("resultAire").textContent = output;
      MathJax.typesetPromise();
    }

    // --- Mesures à partir d'un volume ---
    function calculerMesuresVolume() {
      const volume = parseFloat(document.getElementById("inputVolume").value);
      if (isNaN(volume) || volume <= 0) {
        document.getElementById("resultVolume").textContent = "Veuillez entrer un volume positif.";
        return;
      }
      let output = `Pour un volume \\( V = ${volume} \\quad u^3 \\), voici quelques exemples :\n\n`;
      // Exemple pour un cône
      for (let r = 0.5; r <= Math.cbrt(volume); r += 0.1) {
        let h = (3 * volume) / (Math.PI * r * r);
        output += `Cône : \\( r = ${r.toFixed(1)},\\ h \\approx ${h.toFixed(3)} \\)\n`;
      }
      // Exemple pour une sphère
      let rSphere = Math.cbrt((3 * volume) / (4 * Math.PI));
      output += `\nSphère : \\( r = \\sqrt[3]{\\frac{3V}{4\\pi}} \\approx ${rSphere.toFixed(3)} \\)\n`;
      document.getElementById("resultVolume").textContent = output;
      MathJax.typesetPromise();
    }

    // Utilitaire de validation pour les milliemes
    function validThousandths(value) {
      const digit = Math.floor(Math.abs(value) * 1000) % 10;
      return (digit === 0 || digit === 1);
    }
  </script>
</body>
</html>
